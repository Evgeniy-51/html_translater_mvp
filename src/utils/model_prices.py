"""
Цены моделей OpenAI за 1 миллион токенов
Источник: https://openai.com/pricing
"""

MODEL_PRICES = {
    "gpt-5-mini": {
        "input": 0.25,      # $0.25 за 1M входных токенов
        "cached": 0.025,    # $0.025 за 1M кэшированных токенов
        "output": 2.00      # $2.00 за 1M выходных токенов
    },
    "gpt-5-nano": {
        "input": 0.05,      # $0.05 за 1M входных токенов
        "cached": 0.005,    # $0.005 за 1M кэшированных токенов
        "output": 0.40      # $0.40 за 1M выходных токенов
    },
    "gpt-4.1": {
        "input": 2.00,      # $2.00 за 1M входных токенов
        "cached": 0.50,     # $0.50 за 1M кэшированных токенов
        "output": 8.00      # $8.00 за 1M выходных токенов
    },
    "gpt-4.1-mini": {
        "input": 0.40,      # $0.40 за 1M входных токенов
        "cached": 0.10,     # $0.10 за 1M кэшированных токенов
        "output": 1.60      # $1.60 за 1M выходных токенов
    },
    "gpt-4.1-nano": {
        "input": 0.10,      # $0.10 за 1M входных токенов
        "cached": 0.025,    # $0.025 за 1M кэшированных токенов
        "output": 0.40      # $0.40 за 1M выходных токенов
    },
    "gpt-4o-mini": {
        "input": 0.15,      # $0.15 за 1M входных токенов
        "cached": 0.075,    # $0.075 за 1M кэшированных токенов
        "output": 0.60      # $0.60 за 1M выходных токенов
    }
}


def get_model_price(model_name):
    """Возвращает цены для указанной модели"""
    return MODEL_PRICES.get(model_name, None)


def get_available_models():
    """Возвращает список доступных моделей"""
    return list(MODEL_PRICES.keys())


def format_price(price):
    """Форматирует цену для отображения"""
    if price >= 1.0:
        return f"${price:.2f}"
    else:
        return f"${price:.3f}"
